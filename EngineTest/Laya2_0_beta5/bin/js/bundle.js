var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var MainView_1 = require("./module/main/MainView");
var MainCtrl_1 = require("./module/main/ctrl/MainCtrl");
var MainUiCtrl_1 = require("./module/main/ctrl/MainUiCtrl");
var MapCtrl_1 = require("./module/main/ctrl/MapCtrl");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("module/main/MainView.ts", MainView_1.default);
        reg("module/main/ctrl/MainCtrl.ts", MainCtrl_1.default);
        reg("module/main/ctrl/MainUiCtrl.ts", MainUiCtrl_1.default);
        reg("module/main/ctrl/MapCtrl.ts", MapCtrl_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedauto";
    GameConfig.screenMode = "vertical";
    GameConfig.alignV = "middle";
    GameConfig.alignH = "center";
    GameConfig.startScene = "scenes/MainScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = true;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./module/main/MainView":7,"./module/main/ctrl/MainCtrl":10,"./module/main/ctrl/MainUiCtrl":11,"./module/main/ctrl/MapCtrl":12}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        var res = [
            { "type": Laya.Loader.BUFFER, "url": "res/ani/SwordsMan.sk" },
            { "type": Laya.Loader.IMAGE, "url": "res/ani/SwordsMan.png" }
        ];
        Laya.loader.load(res, Laya.Handler.create(this, function () {
            //加载IDE指定的场景
            GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
        }), null, null);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
/**
 * by yanmingjie
 */
Object.defineProperty(exports, "__esModule", { value: true });
var BaseClass = /** @class */ (function () {
    function BaseClass() {
    }
    BaseClass.getIns = function () {
        if (!this._ins) {
            this._ins = new this();
        }
        return this._ins;
    };
    return BaseClass;
}());
exports.default = BaseClass;
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseClass_1 = require("../base/BaseClass");
/**
 * by yanmingjie
 */
var MainEvent = /** @class */ (function (_super) {
    __extends(MainEvent, _super);
    function MainEvent() {
        return _super.call(this) || this;
    }
    return MainEvent;
}(Laya.EventDispatcher));
var EventManage = /** @class */ (function (_super) {
    __extends(EventManage, _super);
    function EventManage() {
        var _this = _super.call(this) || this;
        _this.init();
        return _this;
    }
    EventManage.prototype.init = function () {
        this._event = new MainEvent();
    };
    EventManage.prototype.on = function (eventName, caller, listener, args) {
        this._event.on.apply(this._event, arguments);
    };
    EventManage.prototype.once = function (eventName, caller, listener, args) {
        this._event.once.apply(this._event, arguments);
    };
    EventManage.prototype.off = function (eventName, caller, listener) {
        this._event.off.apply(this._event, arguments);
    };
    EventManage.prototype.event = function (eventName, data) {
        this._event.event.apply(this._event, arguments);
    };
    return EventManage;
}(BaseClass_1.default));
exports.eventManage = EventManage.getIns();
},{"../base/BaseClass":3}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseClass_1 = require("../base/BaseClass");
/**
 * by yanmingjie
 */
var DisplayUtils = /** @class */ (function (_super) {
    __extends(DisplayUtils, _super);
    function DisplayUtils() {
        var _this = _super.call(this) || this;
        //templet 缓存池
        _this._templetCache = {};
        return _this;
    }
    /**
     * 创建帧动画
     * @param xPos x坐标
     * @param yPos y坐标
     * @param aniUrl 图集url
     * @param parent 父级容器
     */
    DisplayUtils.prototype.createAnimation = function (xPos, yPos, aniUrl, parent) {
        if (parent === void 0) { parent = null; }
        var ani = new Laya.Animation();
        ani.loadAtlas(aniUrl);
        ani.pos(xPos, yPos);
        if (parent) {
            parent.addChild(ani);
        }
        return ani;
    };
    /**
     * 创建骨骼动画
     * @param {number} xPos x坐标
     * @param {number} yPos y坐标
     * @param {string} skKey 地址key
     * @param {number} type 骨骼类型是否换装：1：换装、0：不换装
     * @param {Sprite} parent 父容器
     */
    DisplayUtils.prototype.createSkeleton = function (xPos, yPos, skKey, type, parent) {
        if (type === void 0) { type = 0; }
        if (parent === void 0) { parent = null; }
        var templet = this.createTemplet(skKey);
        if (templet) {
            var skeleton = templet.buildArmature(type);
            skeleton.pos(xPos, yPos);
            if (parent) {
                parent.addChild(skeleton);
            }
            return skeleton;
        }
        else {
            console.warn("动画资源未提前加载！");
        }
        return null;
    };
    /**
     * 创建骨骼动画
     * @param {string} skKey 地址key
     * @param {number} 骨骼类型是否换装：1：换装、0：不换装
     * @param {Function} 回调函数
     * @param {any} 回调函数this对象
     */
    DisplayUtils.prototype.createAsynSkeleton = function (skKey, type, callback, thisObj) {
        if (callback === void 0) { callback = null; }
        if (thisObj === void 0) { thisObj = null; }
        var templet = this.createTemplet(skKey);
        if (templet) {
            compleSk();
        }
        else {
            var res = [
                { "type": Laya.Loader.BUFFER, "url": skKey + ".sk" },
                { "type": Laya.Loader.IMAGE, "url": skKey + ".png" }
            ];
            Laya.loader.load(res, Laya.Handler.create(this, compleSk), null, null);
        }
        function compleSk() {
            templet = this.createTemplet(skKey);
            var skeleton = templet.buildArmature(type);
            (callback) && (callback.apply(thisObj, [skeleton]));
        }
    };
    /**
     * 获取templet对象
     * @param {string} key
     */
    DisplayUtils.prototype.createTemplet = function (key) {
        if (!this._templetCache[key]) {
            var templet = new Laya.Templet();
            var pngData = Laya.loader.getRes(key + ".png");
            var skData = Laya.loader.getRes(key + ".sk");
            if (pngData && skData) {
                templet.parseData(pngData, skData);
                this._templetCache[key] = templet;
            }
            else {
                return null;
            }
        }
        return this._templetCache[key];
    };
    return DisplayUtils;
}(BaseClass_1.default));
exports.displayUtils = DisplayUtils.getIns();
},{"../base/BaseClass":3}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseClass_1 = require("../base/BaseClass");
/**
 * by yanmingjie
 */
var MathUtils = /** @class */ (function (_super) {
    __extends(MathUtils, _super);
    function MathUtils() {
        return _super.call(this) || this;
    }
    /**
     * 获取一个区间的随机数 (from, end)
     * @param {number} from 最小值
     * @param {number} end 最大值
     * @returns {number}
     */
    MathUtils.prototype.random = function (from, end) {
        var min = Math.min(from, end);
        var max = Math.max(from, end);
        var range = max - min;
        return min + Math.random() * range;
    };
    return MathUtils;
}(BaseClass_1.default));
exports.mathUtils = MathUtils.getIns();
},{"../base/BaseClass":3}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../../ui/layaMaxUI");
/**
 * by yanmingjie
 */
var MainView = /** @class */ (function (_super) {
    __extends(MainView, _super);
    function MainView() {
        return _super.call(this) || this;
    }
    MainView.prototype.onEnable = function () {
        // this._control = this.getComponent(MainCtrl);
    };
    return MainView;
}(layaMaxUI_1.ui.scenes.MainSceneUI));
exports.default = MainView;
},{"../../ui/layaMaxUI":13}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseClass_1 = require("../../../core/base/BaseClass");
/**
 * by yanmingjie
 */
var AniType;
(function (AniType) {
    AniType[AniType["BONE"] = 0] = "BONE";
    AniType[AniType["FRAME"] = 1] = "FRAME";
})(AniType = exports.AniType || (exports.AniType = {}));
var MainData = /** @class */ (function (_super) {
    __extends(MainData, _super);
    function MainData() {
        var _this = _super.call(this) || this;
        _this.init();
        return _this;
    }
    MainData.prototype.init = function () {
        this.mapId = 1000;
        this.aniNum = 100;
        this.aniType = AniType.BONE;
    };
    return MainData;
}(BaseClass_1.default));
exports.mainData = MainData.getIns();
},{"../../../core/base/BaseClass":3}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * by yanmingjie
 */
var MainEvent = /** @class */ (function () {
    function MainEvent() {
    }
    /**动画改变 */
    MainEvent.ANI_TYPE_CHANGE = 'ani_type_change';
    /**数量改变 */
    MainEvent.ANI_NUM_CHANGE = 'ani_num_change';
    return MainEvent;
}());
exports.default = MainEvent;
},{}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var EventManage_1 = require("../../../core/manage/EventManage");
var MainEvent_1 = require("../const/MainEvent");
/**
 * by yanmingjie
 */
var MainCtrl = /** @class */ (function (_super) {
    __extends(MainCtrl, _super);
    function MainCtrl() {
        return _super.call(this) || this;
    }
    MainCtrl.prototype.onAwake = function () {
        this._map = this.map.create();
        this._mapUI = this.mapUI.create();
        this._view = this.owner;
        this._view.addChild(this._map);
        this._view.addChild(this._mapUI);
    };
    MainCtrl.prototype.onEnable = function () {
        EventManage_1.eventManage.event(MainEvent_1.default.ANI_NUM_CHANGE);
    };
    return MainCtrl;
}(Laya.Script));
exports.default = MainCtrl;
},{"../../../core/manage/EventManage":4,"../const/MainEvent":9}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MainData_1 = require("../const/MainData");
var EventManage_1 = require("../../../core/manage/EventManage");
var MainEvent_1 = require("../const/MainEvent");
/**
 * by yanmingjie
 */
var MainUiCtrl = /** @class */ (function (_super) {
    __extends(MainUiCtrl, _super);
    function MainUiCtrl() {
        return _super.call(this) || this;
    }
    MainUiCtrl.prototype.onAwake = function () {
        this._aniComBox = this.owner.getChildByName('aniComBox');
        this._numTI = this.owner.getChildByName('numTI');
        this._aniComBox.selectedIndex = MainData_1.mainData.aniType;
        this._numTI.changeText("" + MainData_1.mainData.aniNum);
    };
    MainUiCtrl.prototype.onEnable = function () {
        this._aniComBox.on(Laya.Event.CHANGE, this, this.onChangeAni);
        this._numTI.on(Laya.Event.BLUR, this, this.onChangeTI);
    };
    MainUiCtrl.prototype.onDisable = function () {
        this._aniComBox.off(Laya.Event.CHANGE, this, this.onChangeAni);
        this._numTI.off(Laya.Event.BLUR, this, this.onChangeTI);
    };
    MainUiCtrl.prototype.onChangeAni = function () {
        var index = this._aniComBox.selectedIndex;
        if (index !== MainData_1.mainData.aniType) {
            MainData_1.mainData.aniType = index;
            EventManage_1.eventManage.event(MainEvent_1.default.ANI_TYPE_CHANGE);
        }
    };
    MainUiCtrl.prototype.onChangeTI = function () {
        var numStr = this._numTI.text;
        var num = Number(numStr);
        if (MainData_1.mainData.aniNum !== num) {
            MainData_1.mainData.aniNum = num;
            EventManage_1.eventManage.event(MainEvent_1.default.ANI_NUM_CHANGE);
        }
        this._numTI.changeText("" + num);
    };
    return MainUiCtrl;
}(Laya.Script));
exports.default = MainUiCtrl;
},{"../../../core/manage/EventManage":4,"../const/MainData":8,"../const/MainEvent":9}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var EventManage_1 = require("../../../core/manage/EventManage");
var MainEvent_1 = require("../const/MainEvent");
var MainData_1 = require("../const/MainData");
var DisplayUtils_1 = require("../../../core/utils/DisplayUtils");
var MathUtils_1 = require("../../../core/utils/MathUtils");
/**
 * by yanmingjie
 */
var MapCtrl = /** @class */ (function (_super) {
    __extends(MapCtrl, _super);
    function MapCtrl() {
        var _this = _super.call(this) || this;
        _this._x = 0;
        _this._y = 0;
        _this._addX = true;
        _this._addY = true;
        return _this;
    }
    MapCtrl.prototype.onAwake = function () {
        this._tiled = new Laya.TiledMap();
        this.createMap();
        this._aniArr = [];
    };
    MapCtrl.prototype.onEnable = function () {
        EventManage_1.eventManage.on(MainEvent_1.default.ANI_NUM_CHANGE, this, this.onNumChange);
        EventManage_1.eventManage.on(MainEvent_1.default.ANI_TYPE_CHANGE, this, this.onTypeChange);
    };
    MapCtrl.prototype.onDisable = function () {
        Laya.timer.clear(this, this.moveMap);
        Laya.Tween.clearAll(this);
        EventManage_1.eventManage.off(MainEvent_1.default.ANI_NUM_CHANGE, this, this.onNumChange);
        EventManage_1.eventManage.off(MainEvent_1.default.ANI_TYPE_CHANGE, this, this.onTypeChange);
    };
    MapCtrl.prototype.onNumChange = function () {
        if (!this._aniArr)
            return;
        var chageNum = MainData_1.mainData.aniNum - this._aniArr.length;
        var isAdd = chageNum > 0 ? true : false;
        var len = Math.abs(chageNum);
        var roleLayer = this.owner.getChildByName('roleLayer');
        var aniType = MainData_1.mainData.aniType;
        var role;
        for (var i = 0; i < len; i++) {
            if (isAdd) {
                role = this.getRole(aniType, roleLayer);
                this._aniArr.push(role);
            }
            else {
                if (this._aniArr.length <= 0)
                    break;
                role = this._aniArr.pop();
                this.recycleRole(role, aniType);
            }
        }
    };
    MapCtrl.prototype.onTypeChange = function () {
        var len = this._aniArr.length;
        var role;
        for (var i = 0; i < len; i++) {
            role = this._aniArr[i];
            if (role instanceof Laya.Skeleton) {
                this.recycleRole(role, MainData_1.AniType.BONE);
            }
            else if (role instanceof Laya.Animation) {
                this.recycleRole(role, MainData_1.AniType.FRAME);
            }
            this._aniArr.splice(i, 1);
            --i;
            --len;
        }
        // 添加动画
        this.onNumChange();
    };
    MapCtrl.prototype.recycleRole = function (role, aniType) {
        var sign = "role" + aniType;
        role.stop();
        role.removeSelf();
        Laya.Pool.recover(sign, role);
    };
    MapCtrl.prototype.getRole = function (aniType, parent) {
        var sign = "role" + aniType;
        var role = Laya.Pool.getItem(sign);
        var _x = MathUtils_1.mathUtils.random(0, 640);
        var _y = MathUtils_1.mathUtils.random(0, 1136);
        if (!role) {
            if (aniType === MainData_1.AniType.BONE) {
                role = DisplayUtils_1.displayUtils.createSkeleton(_x, _y, 'res/ani/SwordsMan', 0);
            }
            else if (MainData_1.AniType.FRAME) {
                role = DisplayUtils_1.displayUtils.createAnimation(_x, _y, 'res/ani/Swordsman_attack1.json');
                role.pivot(94, 172);
                role.interval = 60;
            }
        }
        if (role instanceof Laya.Skeleton) {
            role.play('attack1', true);
        }
        else if (role instanceof Laya.Animation) {
            role.play();
        }
        parent && parent.addChild(role);
        return role;
    };
    MapCtrl.prototype.createMap = function (mapId) {
        var _this = this;
        if (mapId === void 0) { mapId = MainData_1.mainData.mapId; }
        var url = "res/map/" + mapId + ".json";
        var rectangle = new Laya.Rectangle(0, 0, 640, 1136);
        var mapLayer = this.owner.getChildByName('mapLayer');
        this._tiled.createMap(url, rectangle, Laya.Handler.create(this, function () {
            mapLayer.addChild(_this._tiled.mapSprite());
            _this.x = _this._tiled.viewPortX;
            _this.y = _this._tiled.viewPortY;
            Laya.timer.loop(3000, _this, _this.moveMap);
        }));
    };
    MapCtrl.prototype.moveMap = function () {
        var wX = 1440;
        var hY = 864;
        var changNum = 200;
        if (this.x >= wX) {
            this._addX = false;
        }
        else if (this.x <= 0) {
            this._addX = true;
        }
        if (this.y >= hY) {
            this._addY = false;
        }
        else if (this.y <= 0) {
            this._addY = true;
        }
        var changeNumX = this._addX ? changNum : -changNum;
        var changeNumY = this._addY ? changNum : -changNum;
        var toX = this.x + changeNumX;
        var toY = this.y + changeNumY;
        if (toX > wX) {
            toX = wX;
        }
        else if (toX < 0) {
            toX = 0;
        }
        if (toY > hY) {
            toY = hY;
        }
        else if (toY < 0) {
            toY = 0;
        }
        Laya.Tween.to(this, { x: toX, y: toY }, 2000);
    };
    Object.defineProperty(MapCtrl.prototype, "x", {
        get: function () {
            return this._x;
        },
        set: function (_x) {
            this._x = _x;
            if (this._tiled) {
                this._tiled.moveViewPort(_x, this.y);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MapCtrl.prototype, "y", {
        get: function () {
            return this._y;
        },
        set: function (_y) {
            this._y = _y;
            if (this._tiled) {
                this._tiled.moveViewPort(this.x, _y);
            }
        },
        enumerable: true,
        configurable: true
    });
    return MapCtrl;
}(Laya.Script));
exports.default = MapCtrl;
},{"../../../core/manage/EventManage":4,"../../../core/utils/DisplayUtils":5,"../../../core/utils/MathUtils":6,"../const/MainData":8,"../const/MainEvent":9}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var ui;
(function (ui) {
    var scenes;
    (function (scenes) {
        var MainSceneUI = /** @class */ (function (_super) {
            __extends(MainSceneUI, _super);
            function MainSceneUI() {
                return _super.call(this) || this;
            }
            MainSceneUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("scenes/MainScene");
            };
            return MainSceneUI;
        }(Scene));
        scenes.MainSceneUI = MainSceneUI;
    })(scenes = ui.scenes || (ui.scenes = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL1NvZnQvTGF5YS9MYXlhSURFXzJfMC8yLjAuMF9iZXRhNS9yZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIiwic3JjL2NvcmUvYmFzZS9CYXNlQ2xhc3MudHMiLCJzcmMvY29yZS9tYW5hZ2UvRXZlbnRNYW5hZ2UudHMiLCJzcmMvY29yZS91dGlscy9EaXNwbGF5VXRpbHMudHMiLCJzcmMvY29yZS91dGlscy9NYXRoVXRpbHMudHMiLCJzcmMvbW9kdWxlL21haW4vTWFpblZpZXcudHMiLCJzcmMvbW9kdWxlL21haW4vY29uc3QvTWFpbkRhdGEudHMiLCJzcmMvbW9kdWxlL21haW4vY29uc3QvTWFpbkV2ZW50LnRzIiwic3JjL21vZHVsZS9tYWluL2N0cmwvTWFpbkN0cmwudHMiLCJzcmMvbW9kdWxlL21haW4vY3RybC9NYWluVWlDdHJsLnRzIiwic3JjL21vZHVsZS9tYWluL2N0cmwvTWFwQ3RybC50cyIsInNyYy91aS9sYXlhTWF4VUkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDVkEsZ0dBQWdHO0FBQ2hHLG1EQUE2QztBQUM3Qyx3REFBa0Q7QUFDbEQsNERBQXNEO0FBQ3RELHNEQUFnRDtBQUNoRDs7RUFFRTtBQUNGO0lBYUk7SUFBYyxDQUFDO0lBQ1IsZUFBSSxHQUFYO1FBQ0ksSUFBSSxHQUFHLEdBQWEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7UUFDN0MsR0FBRyxDQUFDLHlCQUF5QixFQUFDLGtCQUFRLENBQUMsQ0FBQztRQUN4QyxHQUFHLENBQUMsOEJBQThCLEVBQUMsa0JBQVEsQ0FBQyxDQUFDO1FBQzdDLEdBQUcsQ0FBQyxnQ0FBZ0MsRUFBQyxvQkFBVSxDQUFDLENBQUM7UUFDakQsR0FBRyxD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RUFBRTtnQkFDYixJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO2FBQ3hDO1FBQ0wsQ0FBQzs7O09BTkE7SUFRTCxjQUFDO0FBQUQsQ0E1S0EsQUE0S0MsQ0E1S29DLElBQUksQ0FBQyxNQUFNLEdBNEsvQzs7Ozs7QUNwTEQsSUFBTyxLQUFLLEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztBQUN4QixJQUFjLEVBQUUsQ0FRZjtBQVJELFdBQWMsRUFBRTtJQUFDLElBQUEsTUFBTSxDQVF0QjtJQVJnQixXQUFBLE1BQU07UUFDbkI7WUFBaUMsK0JBQUs7WUFDbEM7dUJBQWUsaUJBQU87WUFBQSxDQUFDO1lBQ3ZCLG9DQUFjLEdBQWQ7Z0JBQ0ksaUJBQU0sY0FBYyxXQUFFLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUN2QyxDQUFDO1lBQ0wsa0JBQUM7UUFBRCxDQU5BLEFBTUMsQ0FOZ0MsS0FBSyxHQU1yQztRQU5ZLGtCQUFXLGNBTXZCLENBQUE7SUFDTCxDQUFDLEVBUmdCLE1BQU0sR0FBTixTQUFNLEtBQU4sU0FBTSxRQVF0QjtBQUFELENBQUMsRUFSYSxFQUFFLEdBQUYsVUFBRSxLQUFGLFVBQUUsUUFRZiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IE1haW5WaWV3IGZyb20gXCIuL21vZHVsZS9tYWluL01haW5WaWV3XCJcbmltcG9ydCBNYWluQ3RybCBmcm9tIFwiLi9tb2R1bGUvbWFpbi9jdHJsL01haW5DdHJsXCJcbmltcG9ydCBNYWluVWlDdHJsIGZyb20gXCIuL21vZHVsZS9tYWluL2N0cmwvTWFpblVpQ3RybFwiXG5pbXBvcnQgTWFwQ3RybCBmcm9tIFwiLi9tb2R1bGUvbWFpbi9jdHJsL01hcEN0cmxcIlxyXG4vKlxyXG4qIOa4uOaIj+WIneWni+WMlumFjee9rjtcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZ3tcclxuICAgIHN0YXRpYyB3aWR0aDpudW1iZXI9NjQwO1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9MTEzNjtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6c3RyaW5nPVwiZml4ZWRhdXRvXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJ2ZXJ0aWNhbFwiO1xyXG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJtaWRkbGVcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6c3RyaW5nPVwiY2VudGVyXCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJzY2VuZXMvTWFpblNjZW5lLnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPXRydWU7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj10cnVlO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBzdGF0aWMgaW5pdCgpe1xyXG4gICAgICAgIHZhciByZWc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG4gICAgICAgIHJlZyhcIm1vZHVsZS9tYWluL01haW5WaWV3LnRzXCIsTWFpblZpZXcpO1xuICAgICAgICByZWcoXCJtb2R1bGUvbWFpbi9jdHJsL01haW5DdHJsLnRzXCIsTWFpbkN0cmwpO1xuICAgICAgICByZWcoXCJtb2R1bGUvbWFpbi9jdHJsL01haW5VaUN0cmwudHNcIixNYWluVWlDdHJsKTtcbiAgICAgICAgcmVnKFwibW9kdWxlL21haW4vY3RybC9NYXBDdHJsLnRzXCIsTWFwQ3RybCk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5cclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdKSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdGxldCByZXMgPSBbXHJcblx0XHRcdHtcInR5cGVcIjogTGF5YS5Mb2FkZXIuQlVGRkVSLCBcInVybFwiOiBcInJlcy9hbmkvU3dvcmRzTWFuLnNrXCJ9LFxyXG5cdFx0XHR7XCJ0eXBlXCI6IExheWEuTG9hZGVyLklNQUdFLCAgXCJ1cmxcIjogXCJyZXMvYW5pL1N3b3Jkc01hbi5wbmdcIn1cclxuXHRcdF07XHJcblx0XHRMYXlhLmxvYWRlci5sb2FkKHJlcywgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCAoKSA9PiB7XHJcblx0XHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRcdEdhbWVDb25maWcuc3RhcnRTY2VuZSAmJiBMYXlhLlNjZW5lLm9wZW4oR2FtZUNvbmZpZy5zdGFydFNjZW5lKTtcclxuXHRcdH0pLCBudWxsLCBudWxsKTtcclxuXHR9XHJcbn1cclxuXHJcbi8v5r+A5rS75ZCv5Yqo57G7XHJcbm5ldyBNYWluKCk7XHJcbiIsIi8qKlxyXG4gKiBieSB5YW5taW5namllXHJcbiAqL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZUNsYXNzIHtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zOiBCYXNlQ2xhc3M7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnM8VD4oKTogVCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5faW5zID0gbmV3IHRoaXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICB0aGlzLl9pbnMgYXMgVDtcclxuICAgIH0gXHJcblxyXG59IiwiaW1wb3J0IEJhc2VDbGFzcyBmcm9tIFwiLi4vYmFzZS9CYXNlQ2xhc3NcIjtcclxuXHJcbi8qKlxyXG4gKiBieSB5YW5taW5namllXHJcbiAqL1xyXG5cclxuY2xhc3MgTWFpbkV2ZW50IGV4dGVuZHMgTGF5YS5FdmVudERpc3BhdGNoZXIge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY2xhc3MgRXZlbnRNYW5hZ2UgZXh0ZW5kcyBCYXNlQ2xhc3Mge1xyXG5cclxuICAgIHByaXZhdGUgX2V2ZW50OiBNYWluRXZlbnQ7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fZXZlbnQgPSBuZXcgTWFpbkV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uKGV2ZW50TmFtZTogc3RyaW5nLCBjYWxsZXI6IGFueSwgbGlzdGVuZXI6IEZ1bmN0aW9uLCBhcmdzPzogYW55W10pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9ldmVudC5vbi5hcHBseSh0aGlzLl9ldmVudCwgYXJndW1lbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25jZShldmVudE5hbWU6IHN0cmluZywgY2FsbGVyOiBhbnksIGxpc3RlbmVyOiBGdW5jdGlvbiwgYXJncz86IGFueVtdKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fZXZlbnQub25jZS5hcHBseSh0aGlzLl9ldmVudCwgYXJndW1lbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb2ZmKGV2ZW50TmFtZTogc3RyaW5nLCBjYWxsZXI6IGFueSwgbGlzdGVuZXI6IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fZXZlbnQub2ZmLmFwcGx5KHRoaXMuX2V2ZW50LCBhcmd1bWVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBldmVudChldmVudE5hbWU6IHN0cmluZywgZGF0YT86IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX2V2ZW50LmV2ZW50LmFwcGx5KHRoaXMuX2V2ZW50LCBhcmd1bWVudHMpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGV2ZW50TWFuYWdlOiBFdmVudE1hbmFnZSA9IEV2ZW50TWFuYWdlLmdldEluczxFdmVudE1hbmFnZT4oKTsiLCJpbXBvcnQgQmFzZUNsYXNzIGZyb20gXCIuLi9iYXNlL0Jhc2VDbGFzc1wiO1xyXG5cclxuLyoqXHJcbiAqIGJ5IHlhbm1pbmdqaWVcclxuICovXHJcbmNsYXNzIERpc3BsYXlVdGlscyBleHRlbmRzIEJhc2VDbGFzcyB7XHJcblxyXG4gICAgcHJpdmF0ZSBfdGVtcGxldENhY2hlOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICAvL3RlbXBsZXQg57yT5a2Y5rGgXHJcbiAgICAgICAgdGhpcy5fdGVtcGxldENhY2hlID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliJvlu7rluKfliqjnlLtcclxuICAgICAqIEBwYXJhbSB4UG9zIHjlnZDmoIcgXHJcbiAgICAgKiBAcGFyYW0geVBvcyB55Z2Q5qCHXHJcbiAgICAgKiBAcGFyYW0gYW5pVXJsIOWbvumbhnVybFxyXG4gICAgICogQHBhcmFtIHBhcmVudCDniLbnuqflrrnlmahcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNyZWF0ZUFuaW1hdGlvbih4UG9zOiBudW1iZXIsIHlQb3M6IG51bWJlciwgYW5pVXJsOiBzdHJpbmcsIHBhcmVudDogTGF5YS5TcHJpdGUgPSBudWxsKTogTGF5YS5BbmltYXRpb24ge1xyXG4gICAgICAgIGNvbnN0IGFuaTogTGF5YS5BbmltYXRpb24gPSBuZXcgTGF5YS5BbmltYXRpb24oKTtcclxuICAgICAgICBhbmkubG9hZEF0bGFzKGFuaVVybCk7XHJcbiAgICAgICAgYW5pLnBvcyh4UG9zLCB5UG9zKTtcclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIHBhcmVudC5hZGRDaGlsZChhbmkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYW5pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yib5bu66aqo6aq85Yqo55S7XHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geFBvcyB45Z2Q5qCHXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geVBvcyB55Z2Q5qCHXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2tLZXkg5Zyw5Z2Aa2V5XHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHlwZSDpqqjpqrznsbvlnovmmK/lkKbmjaLoo4XvvJox77ya5o2i6KOF44CBMO+8muS4jeaNouijhVxyXG4gICAgICogQHBhcmFtIHtTcHJpdGV9IHBhcmVudCDniLblrrnlmahcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNyZWF0ZVNrZWxldG9uKHhQb3M6IG51bWJlciwgeVBvczogbnVtYmVyLCBza0tleTogc3RyaW5nLCB0eXBlOiBudW1iZXIgPSAwLCBwYXJlbnQgPSBudWxsKTogTGF5YS5Ta2VsZXRvbiB7XHJcbiAgICAgICAgbGV0IHRlbXBsZXQgPSB0aGlzLmNyZWF0ZVRlbXBsZXQoc2tLZXkpO1xyXG4gICAgICAgIGlmICh0ZW1wbGV0KSB7XHJcbiAgICAgICAgICAgIGxldCBza2VsZXRvbiA9IHRlbXBsZXQuYnVpbGRBcm1hdHVyZSh0eXBlKTtcclxuICAgICAgICAgICAgc2tlbGV0b24ucG9zKHhQb3MsIHlQb3MpO1xyXG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQuYWRkQ2hpbGQoc2tlbGV0b24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBza2VsZXRvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIuWKqOeUu+i1hOa6kOacquaPkOWJjeWKoOi9ve+8gVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliJvlu7rpqqjpqrzliqjnlLtcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBza0tleSDlnLDlnYBrZXlcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSDpqqjpqrznsbvlnovmmK/lkKbmjaLoo4XvvJox77ya5o2i6KOF44CBMO+8muS4jeaNouijhVxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0g5Zue6LCD5Ye95pWwXHJcbiAgICAgKiBAcGFyYW0ge2FueX0g5Zue6LCD5Ye95pWwdGhpc+WvueixoVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY3JlYXRlQXN5blNrZWxldG9uKHNrS2V5OiBzdHJpbmcsIHR5cGU6IG51bWJlciwgY2FsbGJhY2sgPSBudWxsLCB0aGlzT2JqID0gbnVsbCk6IHZvaWQge1xyXG4gICAgICAgIGxldCB0ZW1wbGV0ID0gdGhpcy5jcmVhdGVUZW1wbGV0KHNrS2V5KTtcclxuICAgICAgICBpZiAodGVtcGxldCkge1xyXG4gICAgICAgICAgICBjb21wbGVTaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHJlcyA9IFtcclxuICAgICAgICAgICAgICAgIHtcInR5cGVcIjogTGF5YS5Mb2FkZXIuQlVGRkVSLCBcInVybFwiOiBza0tleSArIFwiLnNrXCJ9LFxyXG4gICAgICAgICAgICAgICAge1widHlwZVwiOiBMYXlhLkxvYWRlci5JTUFHRSwgIFwidXJsXCI6IHNrS2V5ICsgXCIucG5nXCJ9XHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIExheWEubG9hZGVyLmxvYWQocmVzLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIGNvbXBsZVNrKSwgbnVsbCwgbnVsbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjb21wbGVTaygpe1xyXG4gICAgICAgICAgICB0ZW1wbGV0ID0gdGhpcy5jcmVhdGVUZW1wbGV0KHNrS2V5KTtcclxuICAgICAgICAgICAgbGV0IHNrZWxldG9uID0gdGVtcGxldC5idWlsZEFybWF0dXJlKHR5cGUpO1xyXG4gICAgICAgICAgICAoY2FsbGJhY2spICYmICggY2FsbGJhY2suYXBwbHkodGhpc09iaiwgW3NrZWxldG9uXSkgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5Z0ZW1wbGV05a+56LGhXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjcmVhdGVUZW1wbGV0KGtleTogc3RyaW5nKTogTGF5YS5UZW1wbGV0IHtcclxuICAgICAgICBpZiAoIXRoaXMuX3RlbXBsZXRDYWNoZVtrZXldKSB7XHJcbiAgICAgICAgICAgIGxldCB0ZW1wbGV0ID0gbmV3IExheWEuVGVtcGxldCgpO1xyXG4gICAgICAgICAgICBsZXQgcG5nRGF0YSA9IExheWEubG9hZGVyLmdldFJlcyhrZXkgKyBcIi5wbmdcIik7XHJcbiAgICAgICAgICAgIGxldCBza0RhdGEgPSBMYXlhLmxvYWRlci5nZXRSZXMoa2V5ICsgXCIuc2tcIik7XHJcbiAgICAgICAgICAgIGlmIChwbmdEYXRhICYmIHNrRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxldC5wYXJzZURhdGEocG5nRGF0YSwgc2tEYXRhKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBsZXRDYWNoZVtrZXldID0gdGVtcGxldDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wbGV0Q2FjaGVba2V5XTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBkaXNwbGF5VXRpbHM6IERpc3BsYXlVdGlscyA9IERpc3BsYXlVdGlscy5nZXRJbnM8RGlzcGxheVV0aWxzPigpOyIsImltcG9ydCBCYXNlQ2xhc3MgZnJvbSBcIi4uL2Jhc2UvQmFzZUNsYXNzXCI7XHJcblxyXG4vKipcclxuICogYnkgeWFubWluZ2ppZVxyXG4gKi9cclxuY2xhc3MgTWF0aFV0aWxzIGV4dGVuZHMgQmFzZUNsYXNzIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5LiA5Liq5Yy66Ze055qE6ZqP5py65pWwIChmcm9tLCBlbmQpXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbSDmnIDlsI/lgLxcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQg5pyA5aSn5YC8XHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmFuZG9tKGZyb206IG51bWJlciwgZW5kOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBtaW4gPSBNYXRoLm1pbihmcm9tLCBlbmQpO1xyXG4gICAgICAgIGxldCBtYXggPSBNYXRoLm1heChmcm9tLCBlbmQpO1xyXG4gICAgICAgIGxldCByYW5nZSA9IG1heCAtIG1pbjtcclxuICAgICAgICByZXR1cm4gbWluICsgTWF0aC5yYW5kb20oKSAqIHJhbmdlO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IG1hdGhVdGlsczogTWF0aFV0aWxzID0gTWF0aFV0aWxzLmdldEluczxNYXRoVXRpbHM+KCk7IiwiaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi4vLi4vdWkvbGF5YU1heFVJXCI7XHJcbmltcG9ydCBNYWluQ3RybCBmcm9tIFwiLi9jdHJsL01haW5DdHJsXCI7XHJcblxyXG4vKipcclxuICogYnkgeWFubWluZ2ppZVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpblZpZXcgZXh0ZW5kcyB1aS5zY2VuZXMuTWFpblNjZW5lVUkge1xyXG4gICAgLyoq5Y2V5L6LICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGluc3RhbmNlOiBNYWluVmlldztcclxuXHJcbiAgICAvKirmuLjmiI/mjqfliLbohJrmnKzlvJXnlKjvvIzpgb/lhY3mr4/mrKHojrflj5bnu4Tku7bluKbmnaXkuI3lv4XopoHnmoTmgKfog73lvIDplIAgKi9cclxuICAgIHByaXZhdGUgX2NvbnRyb2w6IE1haW5DdHJsO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gdGhpcy5fY29udHJvbCA9IHRoaXMuZ2V0Q29tcG9uZW50KE1haW5DdHJsKTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgQmFzZUNsYXNzIGZyb20gXCIuLi8uLi8uLi9jb3JlL2Jhc2UvQmFzZUNsYXNzXCI7XHJcblxyXG4vKipcclxuICogYnkgeWFubWluZ2ppZVxyXG4gKi9cclxuXHJcbmV4cG9ydCBlbnVtIEFuaVR5cGUge1xyXG4gICAgQk9ORSA9IDAsXHJcbiAgICBGUkFNRVxyXG59XHJcblxyXG5jbGFzcyBNYWluRGF0YSBleHRlbmRzIEJhc2VDbGFzcyB7XHJcblxyXG4gICAgcHVibGljIG1hcElkOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgYW5pTnVtOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgYW5pVHlwZTogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubWFwSWQgPSAxMDAwO1xyXG4gICAgICAgIHRoaXMuYW5pTnVtID0gMTAwO1xyXG4gICAgICAgIHRoaXMuYW5pVHlwZSA9IEFuaVR5cGUuQk9ORTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBtYWluRGF0YTogTWFpbkRhdGEgPSBNYWluRGF0YS5nZXRJbnM8TWFpbkRhdGE+KCk7IiwiLyoqXHJcbiAqIGJ5IHlhbm1pbmdqaWVcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1haW5FdmVudCB7XHJcblxyXG4gICAgLyoq5Yqo55S75pS55Y+YICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFOSV9UWVBFX0NIQU5HRTogc3RyaW5nID0gJ2FuaV90eXBlX2NoYW5nZSc7XHJcblxyXG4gICAgLyoq5pWw6YeP5pS55Y+YICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFOSV9OVU1fQ0hBTkdFOiBzdHJpbmcgPSAnYW5pX251bV9jaGFuZ2UnO1xyXG5cclxufSIsImltcG9ydCBNYWluVmlldyBmcm9tIFwiLi4vTWFpblZpZXdcIjtcclxuaW1wb3J0IHsgZXZlbnRNYW5hZ2UgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9tYW5hZ2UvRXZlbnRNYW5hZ2VcIjtcclxuaW1wb3J0IE1haW5FdmVudCBmcm9tIFwiLi4vY29uc3QvTWFpbkV2ZW50XCI7XHJcblxyXG4vKipcclxuICogYnkgeWFubWluZ2ppZVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpbkN0cmwgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJvcCB7bmFtZTptYXAsIHRpcHM6XCLlnLDlm77lsYJcIiwgdHlwZTpQcmVmYWJ9XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtYXA6IExheWEuUHJlZmFiO1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEBwcm9wIHtuYW1lOm1hcFVJLCB0aXBzOlwidWnlsYJcIiwgdHlwZTpQcmVmYWJ9XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtYXBVSTogTGF5YS5QcmVmYWI7XHJcblxyXG5cclxuICAgIHByaXZhdGUgX21hcDogTGF5YS5TcHJpdGU7XHJcbiAgICBwcml2YXRlIF9tYXBVSTogTGF5YS5TcHJpdGU7XHJcbiAgICBwcml2YXRlIF92aWV3OiBMYXlhLlNwcml0ZTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25Bd2FrZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9tYXAgPSB0aGlzLm1hcC5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl9tYXBVSSA9IHRoaXMubWFwVUkuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fdmlldyA9IHRoaXMub3duZXIgYXMgTWFpblZpZXc7XHJcblxyXG4gICAgICAgIHRoaXMuX3ZpZXcuYWRkQ2hpbGQodGhpcy5fbWFwKTtcclxuICAgICAgICB0aGlzLl92aWV3LmFkZENoaWxkKHRoaXMuX21hcFVJKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgZXZlbnRNYW5hZ2UuZXZlbnQoTWFpbkV2ZW50LkFOSV9OVU1fQ0hBTkdFKTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBtYWluRGF0YSB9IGZyb20gXCIuLi9jb25zdC9NYWluRGF0YVwiO1xyXG5pbXBvcnQgeyBldmVudE1hbmFnZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL21hbmFnZS9FdmVudE1hbmFnZVwiO1xyXG5pbXBvcnQgTWFpbkV2ZW50IGZyb20gXCIuLi9jb25zdC9NYWluRXZlbnRcIjtcclxuXHJcbi8qKlxyXG4gKiBieSB5YW5taW5namllXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluVWlDdHJsIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG5cclxuICAgIHByaXZhdGUgX2FuaUNvbUJveDogTGF5YS5Db21ib0JveDtcclxuICAgIHByaXZhdGUgX251bVRJOiBMYXlhLlRleHRJbnB1dDtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25Bd2FrZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9hbmlDb21Cb3ggPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKCdhbmlDb21Cb3gnKSBhcyBMYXlhLkNvbWJvQm94O1xyXG4gICAgICAgIHRoaXMuX251bVRJID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZSgnbnVtVEknKSBhcyBMYXlhLlRleHRJbnB1dDtcclxuXHJcbiAgICAgICAgdGhpcy5fYW5pQ29tQm94LnNlbGVjdGVkSW5kZXggPSBtYWluRGF0YS5hbmlUeXBlO1xyXG4gICAgICAgIHRoaXMuX251bVRJLmNoYW5nZVRleHQoYCR7bWFpbkRhdGEuYW5pTnVtfWApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9hbmlDb21Cb3gub24oTGF5YS5FdmVudC5DSEFOR0UsIHRoaXMsIHRoaXMub25DaGFuZ2VBbmkpO1xyXG4gICAgICAgIHRoaXMuX251bVRJLm9uKExheWEuRXZlbnQuQkxVUiwgdGhpcywgdGhpcy5vbkNoYW5nZVRJKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX2FuaUNvbUJveC5vZmYoTGF5YS5FdmVudC5DSEFOR0UsIHRoaXMsIHRoaXMub25DaGFuZ2VBbmkpO1xyXG4gICAgICAgIHRoaXMuX251bVRJLm9mZihMYXlhLkV2ZW50LkJMVVIsIHRoaXMsIHRoaXMub25DaGFuZ2VUSSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbkNoYW5nZUFuaSgpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBpbmRleDogbnVtYmVyID0gdGhpcy5fYW5pQ29tQm94LnNlbGVjdGVkSW5kZXg7XHJcbiAgICAgICAgaWYgKGluZGV4ICE9PSBtYWluRGF0YS5hbmlUeXBlKSB7XHJcbiAgICAgICAgICAgIG1haW5EYXRhLmFuaVR5cGUgPSBpbmRleDtcclxuICAgICAgICAgICAgZXZlbnRNYW5hZ2UuZXZlbnQoTWFpbkV2ZW50LkFOSV9UWVBFX0NIQU5HRSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25DaGFuZ2VUSSgpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBudW1TdHI6IHN0cmluZyA9IHRoaXMuX251bVRJLnRleHQ7XHJcbiAgICAgICAgY29uc3QgbnVtOiBudW1iZXIgPSBOdW1iZXIobnVtU3RyKTtcclxuXHJcbiAgICAgICAgaWYgKG1haW5EYXRhLmFuaU51bSAhPT0gbnVtKSB7XHJcbiAgICAgICAgICAgIG1haW5EYXRhLmFuaU51bSA9IG51bTtcclxuICAgICAgICAgICAgZXZlbnRNYW5hZ2UuZXZlbnQoTWFpbkV2ZW50LkFOSV9OVU1fQ0hBTkdFKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fbnVtVEkuY2hhbmdlVGV4dChgJHtudW19YCk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgZXZlbnRNYW5hZ2UgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9tYW5hZ2UvRXZlbnRNYW5hZ2VcIjtcclxuaW1wb3J0IE1haW5FdmVudCBmcm9tIFwiLi4vY29uc3QvTWFpbkV2ZW50XCI7XHJcbmltcG9ydCB7IG1haW5EYXRhLCBBbmlUeXBlIH0gZnJvbSBcIi4uL2NvbnN0L01haW5EYXRhXCI7XHJcbmltcG9ydCB7IGRpc3BsYXlVdGlscyB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL3V0aWxzL0Rpc3BsYXlVdGlsc1wiO1xyXG5pbXBvcnQgeyBtYXRoVXRpbHMgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS91dGlscy9NYXRoVXRpbHNcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFNrX0FuaSA9IExheWEuU2tlbGV0b24gfCBMYXlhLkFuaW1hdGlvbjtcclxuXHJcbi8qKlxyXG4gKiBieSB5YW5taW5namllXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBDdHJsIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgLy8g5Zyw5Zu+XHJcbiAgICBwcml2YXRlIF90aWxlZDogTGF5YS5UaWxlZE1hcDtcclxuICAgIC8vIOWKqOeUu+aVsOe7hFxyXG4gICAgcHJpdmF0ZSBfYW5pQXJyOiBBcnJheTxTa19Bbmk+O1xyXG5cclxuICAgIHByaXZhdGUgX3g6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIF95OiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBfYWRkWDogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBwcml2YXRlIF9hZGRZOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25Bd2FrZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl90aWxlZCA9IG5ldyBMYXlhLlRpbGVkTWFwKCk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlTWFwKCk7XHJcbiAgICAgICAgdGhpcy5fYW5pQXJyID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIGV2ZW50TWFuYWdlLm9uKE1haW5FdmVudC5BTklfTlVNX0NIQU5HRSwgdGhpcywgdGhpcy5vbk51bUNoYW5nZSk7XHJcbiAgICAgICAgZXZlbnRNYW5hZ2Uub24oTWFpbkV2ZW50LkFOSV9UWVBFX0NIQU5HRSwgdGhpcywgdGhpcy5vblR5cGVDaGFuZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLCB0aGlzLm1vdmVNYXApO1xyXG4gICAgICAgIExheWEuVHdlZW4uY2xlYXJBbGwodGhpcyk7XHJcblxyXG4gICAgICAgIGV2ZW50TWFuYWdlLm9mZihNYWluRXZlbnQuQU5JX05VTV9DSEFOR0UsIHRoaXMsIHRoaXMub25OdW1DaGFuZ2UpO1xyXG4gICAgICAgIGV2ZW50TWFuYWdlLm9mZihNYWluRXZlbnQuQU5JX1RZUEVfQ0hBTkdFLCB0aGlzLCB0aGlzLm9uVHlwZUNoYW5nZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbk51bUNoYW5nZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2FuaUFycikgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBjaGFnZU51bTogbnVtYmVyID0gbWFpbkRhdGEuYW5pTnVtIC0gdGhpcy5fYW5pQXJyLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBpc0FkZDogYm9vbGVhbiA9IGNoYWdlTnVtID4gMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICBjb25zdCBsZW46IG51bWJlciA9IE1hdGguYWJzKGNoYWdlTnVtKTtcclxuICAgICAgICBjb25zdCByb2xlTGF5ZXI6IExheWEuU3ByaXRlID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZSgncm9sZUxheWVyJykgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICAgICAgY29uc3QgYW5pVHlwZTogbnVtYmVyID0gbWFpbkRhdGEuYW5pVHlwZTtcclxuXHJcbiAgICAgICAgbGV0IHJvbGU6IFNrX0FuaTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0FkZCkge1xyXG4gICAgICAgICAgICAgICAgcm9sZSA9IHRoaXMuZ2V0Um9sZShhbmlUeXBlLCByb2xlTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYW5pQXJyLnB1c2gocm9sZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYW5pQXJyLmxlbmd0aCA8PSAwKSBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICByb2xlID0gdGhpcy5fYW5pQXJyLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWN5Y2xlUm9sZShyb2xlLCBhbmlUeXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uVHlwZUNoYW5nZSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbGVuOiBudW1iZXIgPSB0aGlzLl9hbmlBcnIubGVuZ3RoO1xyXG4gICAgICAgIGxldCByb2xlOiBTa19Bbmk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgcm9sZSA9IHRoaXMuX2FuaUFycltpXTtcclxuICAgICAgICAgICAgaWYgKHJvbGUgaW5zdGFuY2VvZiBMYXlhLlNrZWxldG9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3ljbGVSb2xlKHJvbGUsIEFuaVR5cGUuQk9ORSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocm9sZSBpbnN0YW5jZW9mIExheWEuQW5pbWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3ljbGVSb2xlKHJvbGUsIEFuaVR5cGUuRlJBTUUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2FuaUFyci5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgIC0taTtcclxuICAgICAgICAgICAgLS1sZW47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDmt7vliqDliqjnlLtcclxuICAgICAgICB0aGlzLm9uTnVtQ2hhbmdlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWN5Y2xlUm9sZShyb2xlOiBTa19BbmksIGFuaVR5cGU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHNpZ246IHN0cmluZyA9IGByb2xlJHthbmlUeXBlfWA7XHJcblxyXG4gICAgICAgIHJvbGUuc3RvcCgpO1xyXG4gICAgICAgIHJvbGUucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgIExheWEuUG9vbC5yZWNvdmVyKHNpZ24sIHJvbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0Um9sZShhbmlUeXBlOiBudW1iZXIsIHBhcmVudDogTGF5YS5TcHJpdGUpOiBTa19Bbmkge1xyXG4gICAgICAgIGNvbnN0IHNpZ246IHN0cmluZyA9IGByb2xlJHthbmlUeXBlfWA7XHJcbiAgICAgICAgbGV0IHJvbGU6IFNrX0FuaSA9IExheWEuUG9vbC5nZXRJdGVtKHNpZ24pO1xyXG4gICAgICAgIGNvbnN0IF94OiBudW1iZXIgPSBtYXRoVXRpbHMucmFuZG9tKDAsIDY0MCk7XHJcbiAgICAgICAgY29uc3QgX3k6IG51bWJlciA9IG1hdGhVdGlscy5yYW5kb20oMCwgMTEzNik7XHJcblxyXG4gICAgICAgIGlmICghcm9sZSkge1xyXG4gICAgICAgICAgICBpZiAoYW5pVHlwZSA9PT0gQW5pVHlwZS5CT05FKSB7XHJcbiAgICAgICAgICAgICAgICByb2xlID0gZGlzcGxheVV0aWxzLmNyZWF0ZVNrZWxldG9uKF94LCBfeSwgJ3Jlcy9hbmkvU3dvcmRzTWFuJywgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoQW5pVHlwZS5GUkFNRSkge1xyXG4gICAgICAgICAgICAgICAgcm9sZSA9IGRpc3BsYXlVdGlscy5jcmVhdGVBbmltYXRpb24oX3gsIF95LCAncmVzL2FuaS9Td29yZHNtYW5fYXR0YWNrMS5qc29uJyk7XHJcbiAgICAgICAgICAgICAgICByb2xlLnBpdm90KDk0LCAxNzIpO1xyXG4gICAgICAgICAgICAgICAgcm9sZS5pbnRlcnZhbCA9IDYwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocm9sZSBpbnN0YW5jZW9mIExheWEuU2tlbGV0b24pIHtcclxuICAgICAgICAgICAgcm9sZS5wbGF5KCdhdHRhY2sxJywgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHJvbGUgaW5zdGFuY2VvZiBMYXlhLkFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICByb2xlLnBsYXkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGFyZW50ICYmIHBhcmVudC5hZGRDaGlsZChyb2xlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJvbGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjcmVhdGVNYXAobWFwSWQ6IG51bWJlciA9IG1haW5EYXRhLm1hcElkKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgdXJsOiBzdHJpbmcgPSBgcmVzL21hcC8ke21hcElkfS5qc29uYDtcclxuICAgICAgICBjb25zdCByZWN0YW5nbGU6IExheWEuUmVjdGFuZ2xlID0gbmV3IExheWEuUmVjdGFuZ2xlKDAsIDAsIDY0MCwgMTEzNik7XHJcbiAgICAgICAgY29uc3QgbWFwTGF5ZXI6IExheWEuU3ByaXRlID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZSgnbWFwTGF5ZXInKSBhcyBMYXlhLlNwcml0ZTtcclxuXHJcbiAgICAgICAgdGhpcy5fdGlsZWQuY3JlYXRlTWFwKHVybCwgcmVjdGFuZ2xlLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgbWFwTGF5ZXIuYWRkQ2hpbGQodGhpcy5fdGlsZWQubWFwU3ByaXRlKCkpO1xyXG4gICAgICAgICAgICB0aGlzLnggPSB0aGlzLl90aWxlZC52aWV3UG9ydFg7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHRoaXMuX3RpbGVkLnZpZXdQb3J0WTtcclxuICAgICAgICAgICAgTGF5YS50aW1lci5sb29wKDMwMDAsIHRoaXMsIHRoaXMubW92ZU1hcCk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbW92ZU1hcCgpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB3WDogbnVtYmVyID0gMTQ0MDtcclxuICAgICAgICBjb25zdCBoWTogbnVtYmVyID0gODY0O1xyXG4gICAgICAgIGNvbnN0IGNoYW5nTnVtOiBudW1iZXIgPSAyMDA7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnggPj0gd1gpIHsgdGhpcy5fYWRkWCA9IGZhbHNlOyB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy54IDw9IDApIHsgdGhpcy5fYWRkWCA9IHRydWU7IH1cclxuICAgICAgICBpZiAodGhpcy55ID49IGhZKSB7IHRoaXMuX2FkZFkgPSBmYWxzZTsgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMueSA8PSAwKSB7IHRoaXMuX2FkZFkgPSB0cnVlOyB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNoYW5nZU51bVg6IG51bWJlciA9IHRoaXMuX2FkZFggPyBjaGFuZ051bSA6IC1jaGFuZ051bTtcclxuICAgICAgICBjb25zdCBjaGFuZ2VOdW1ZOiBudW1iZXIgPSB0aGlzLl9hZGRZID8gY2hhbmdOdW0gOiAtY2hhbmdOdW07XHJcbiAgICAgICAgbGV0IHRvWDogbnVtYmVyID0gdGhpcy54ICsgY2hhbmdlTnVtWDtcclxuICAgICAgICBsZXQgdG9ZOiBudW1iZXIgPSB0aGlzLnkgKyBjaGFuZ2VOdW1ZO1xyXG5cclxuICAgICAgICBpZiAodG9YID4gd1gpIHsgdG9YID0gd1g7IH1cclxuICAgICAgICBlbHNlIGlmICh0b1ggPCAwKSB7IHRvWCA9IDA7IH1cclxuICAgICAgICBpZiAodG9ZID4gaFkpIHsgdG9ZID0gaFk7IH1cclxuICAgICAgICBlbHNlIGlmICh0b1kgPCAwKSB7IHRvWSA9IDA7IH1cclxuXHJcbiAgICAgICAgTGF5YS5Ud2Vlbi50byh0aGlzLCB7eDogdG9YLCB5OiB0b1l9LCAyMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5feDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgeChfeDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5feCA9IF94O1xyXG4gICAgICAgIGlmICh0aGlzLl90aWxlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl90aWxlZC5tb3ZlVmlld1BvcnQoX3gsIHRoaXMueSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgeSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl95O1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldCB5KF95OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl95ID0gX3k7XHJcbiAgICAgICAgaWYgKHRoaXMuX3RpbGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RpbGVkLm1vdmVWaWV3UG9ydCh0aGlzLngsIF95KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59IiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXG5pbXBvcnQgVmlldz1MYXlhLlZpZXc7XG5pbXBvcnQgRGlhbG9nPUxheWEuRGlhbG9nO1xuaW1wb3J0IFNjZW5lPUxheWEuU2NlbmU7XG5leHBvcnQgbW9kdWxlIHVpLnNjZW5lcyB7XHJcbiAgICBleHBvcnQgY2xhc3MgTWFpblNjZW5lVUkgZXh0ZW5kcyBTY2VuZSB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcInNjZW5lcy9NYWluU2NlbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHIiXX0=
